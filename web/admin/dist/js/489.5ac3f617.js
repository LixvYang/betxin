"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[489],{38558:function(e,t,a){a.d(t,{Z:function(){return g}});var l=a(73396),o=a(87139);const n={class:"lixin-form"},i={class:"header"},r={class:"footer"};function s(e,t,a,s,d,u){const p=(0,l.up)("el-input"),c=(0,l.up)("el-option"),m=(0,l.up)("el-select"),g=(0,l.up)("el-date-picker"),f=(0,l.up)("el-form-item"),h=(0,l.up)("el-col"),w=(0,l.up)("el-row"),C=(0,l.up)("el-form");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",i,[(0,l.WI)(e.$slots,"header",{},void 0,!0)]),(0,l.Wm)(C,{"label-width":e.labelWidth},{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.formItems,(t=>((0,l.wg)(),(0,l.j4)(h,(0,o.normalizeProps)((0,l.dG)({key:t.label},e.colLayout)),{default:(0,l.w5)((()=>[t.isHidden?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(f,{key:0,label:t.label,rules:t.rules,style:(0,o.normalizeStyle)(e.itemStyle)},{default:(0,l.w5)((()=>["input"===t.type||"password"===t.type?((0,l.wg)(),(0,l.j4)(p,(0,l.dG)({key:0,placeholder:t.placeholder},t.otherOptions,{"show-password":"password"===t.type,modelValue:e.formData[`${t.field}`],"onUpdate:modelValue":a=>e.formData[`${t.field}`]=a}),null,16,["placeholder","show-password","modelValue","onUpdate:modelValue"])):"select"===t.type?((0,l.wg)(),(0,l.j4)(m,(0,l.dG)({key:1,placeholder:t.placeholder},t.otherOptions,{style:{width:"100%"},modelValue:e.formData[`${t.field}`],"onUpdate:modelValue":a=>e.formData[`${t.field}`]=a}),{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.options,(e=>((0,l.wg)(),(0,l.j4)(c,{value:e.value,key:e.value},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.toDisplayString)(e.title),1)])),_:2},1032,["value"])))),128))])),_:2},1040,["placeholder","modelValue","onUpdate:modelValue"])):"datepicker"===t.type?((0,l.wg)(),(0,l.j4)(g,(0,l.dG)({key:2,style:{width:"100%"}},t.otherOptions,{modelValue:e.formData[`${t.field}`],"onUpdate:modelValue":a=>e.formData[`${t.field}`]=a}),null,16,["modelValue","onUpdate:modelValue"])):(0,l.kq)("",!0)])),_:2},1032,["label","rules","style"]))])),_:2},1040)))),128))])),_:1})])),_:1},8,["label-width"]),(0,l._)("div",r,[(0,l.WI)(e.$slots,"footer",{},void 0,!0)])])}var d=a(44870),u=(0,l.aZ)({props:{modelValue:{type:Object,required:!0},formItems:{type:Array,default:()=>[]},labelWidth:{type:String,default:"100px"},itemStyle:{type:Object,default:()=>{}},colLayout:{type:Object,default:()=>({xl:6,lg:8,md:12,sm:24,xs:24})}},emits:["update:modelValue"],setup(e,{emit:t}){const a=(0,d.ref)({...e.modelValue});return(0,l.YP)(a,(e=>{t("update:modelValue",e)}),{deep:!0}),{formData:a}}}),p=a(40089);const c=(0,p.Z)(u,[["render",s],["__scopeId","data-v-09c6ba5a"]]);var m=c,g=m},31050:function(e,t,a){a.d(t,{Z:function(){return W}});var l=a(73396),o=a(87139);const n={class:"page-content"},i={class:"stop-btn"},r={class:"handle-btns"};function s(e,t,a,s,d,u){const p=(0,l.up)("el-button"),c=(0,l.up)("el-image"),m=(0,l.up)("lixin-table");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(m,(0,l.dG)({listData:e.dataList,listCount:e.listCount},e.contentTableConfig,{page:e.pageInfo,"onUpdate:page":t[0]||(t[0]=t=>e.pageInfo=t)}),(0,l.Nv)({"header-handler":(0,l.w5)((()=>[(0,l.Wm)(p,{type:"primary",onClick:e.handleCreateClick},{default:(0,l.w5)((()=>[(0,l.Uk)("新建")])),_:1},8,["onClick"])])),status:(0,l.w5)((e=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.toDisplayString)(e.row.enable),1)])),_:2},1024)])),createdAt:(0,l.w5)((e=>[(0,l._)("span",null,(0,o.toDisplayString)(e.row.createdAt),1)])),updatedAt:(0,l.w5)((e=>[(0,l._)("span",null,(0,o.toDisplayString)(e.row.updatedAt),1)])),iconURL:(0,l.w5)((e=>[(0,l.Wm)(c,{style:{width:"30px",height:"30px"},src:e.row.icon_url,"preview-src-list":[e.row.icon_url]},null,8,["src","preview-src-list"])])),avatarUrl:(0,l.w5)((e=>[(0,l.Wm)(c,{style:{width:"50px",height:"50px"},src:e.row.avatar_url,"preview-src-list":[e.row.avatar_url]},null,8,["src","preview-src-list"])])),deletedAt:(0,l.w5)((e=>[(0,l._)("span",null,(0,o.toDisplayString)(e.row.deletedAt),1)])),stopAt:(0,l.w5)((t=>[(0,l._)("div",i,[(0,l.Wm)(p,{type:"success",onClick:a=>e.handleYesWinClick(t.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("Yes 赢")])),_:2},1032,["onClick"]),(0,l.Wm)(p,{type:"danger",onClick:a=>e.handleNoWinClick(t.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("No 赢")])),_:2},1032,["onClick"])])])),handler:(0,l.w5)((t=>[(0,l._)("div",r,[(0,l.Wm)(p,{type:"text",onClick:a=>e.handleUpdateClick(t.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("编辑")])),_:2},1032,["onClick"]),(0,l.Wm)(p,{type:"text",onClick:a=>e.handleDeleteClick(t.row)},{default:(0,l.w5)((()=>[(0,l.Uk)("删除")])),_:2},1032,["onClick"])])])),_:2},[(0,l.Ko)(e.otherPropSlots,(t=>({name:t.slotName,fn:(0,l.w5)((a=>[t.slotName?(0,l.WI)(e.$slots,t.slotName,{key:0,row:a.row},void 0,!0):(0,l.kq)("",!0)]))})))]),1040,["listData","listCount","page"])])}var d=a(71464),u=a(44870);const p={class:"lixin-table"},c={class:"header"},m={class:"title"},g={class:"handler"},f={class:"footer"};function h(e,t,a,n,i,r){const s=(0,l.up)("el-table-column"),d=(0,l.up)("el-table"),u=(0,l.up)("el-pagination");return(0,l.wg)(),(0,l.iD)("div",p,[(0,l._)("div",c,[(0,l.WI)(e.$slots,"header",{},(()=>[(0,l._)("div",m,(0,o.toDisplayString)(e.title),1),(0,l._)("div",g,[(0,l.WI)(e.$slots,"header-handler",{},void 0,!0)])]),!0)]),(0,l.Wm)(d,{border:"",style:{width:"100%"},data:e.listData,onSelectionChange:e.handleSelectionChange},{default:(0,l.w5)((()=>[e.showSelectColumn?((0,l.wg)(),(0,l.j4)(s,{key:0,type:"selection",align:"center",width:"60"})):(0,l.kq)("",!0),e.showIndexColumn?((0,l.wg)(),(0,l.j4)(s,{key:1,type:"index",label:"序号",align:"center",width:"80"})):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.propList,(t=>((0,l.wg)(),(0,l.j4)(s,(0,l.dG)({key:t.prop},t,{align:"center","show-overflow-tooltip":""}),{default:(0,l.w5)((a=>[(0,l.WI)(e.$slots,t?.slotName,{row:a.row},(()=>[(0,l.Uk)((0,o.toDisplayString)(a.row[t.prop]),1)]),!0)])),_:2},1040)))),128))])),_:3},8,["data","onSelectionChange"]),(0,l._)("div",f,[(0,l.WI)(e.$slots,"footer",{},(()=>[e.pagination?((0,l.wg)(),(0,l.j4)(u,{key:0,layout:"total, sizes, prev, pager, next, jumper","current-page":e.page.currentPage,"page-size":e.page.pageSize,"page-sizes":[10,20,30],onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange,total:e.listCount},null,8,["current-page","page-size","onSizeChange","onCurrentChange","total"])):(0,l.kq)("",!0)]),!0)])])}var w=(0,l.aZ)({props:{title:{type:String,required:!0},listData:{type:Array,required:!0},listCount:{type:Number,default:0},propList:{type:Array,required:!0},showIndexColumn:{type:Boolean,default:!1},showSelectColumn:{type:Boolean,default:!1},page:{type:Object,default:()=>({currentPage:0,pageSize:10})}},emits:["selectionChange","update:page"],setup(e,{emit:t}){const a=(0,u.ref)(!0),l=e=>{t("selectionChange",e)},o=a=>{console.log("handleCurrentChange"),t("update:page",{...e.page,currentPage:a})},n=a=>{console.log(a),t("update:page",{...e.page,pageSize:a})};return{handleSelectionChange:l,handleSizeChange:n,handleCurrentChange:o,pagination:a}}}),C=a(40089);const y=(0,C.Z)(w,[["render",h],["__scopeId","data-v-336acf88"]]);var k=y,v=k,_=a(67520),b=(0,l.aZ)({components:{LixinTable:v},props:{contentTableConfig:{type:Object,required:!0},pageName:{type:String,required:!0}},emits:["createBtnClick","updateBtnClick"],setup(e,{emit:t}){const a=(0,d.oR)(),o=(0,u.ref)({currentPage:1,pageSize:10});(0,l.YP)(o,(()=>n()));const n=(t={})=>{a.dispatch("system/getPageListAction",{pageName:e.pageName,queryInfo:{offset:(o.value.currentPage-1)*o.value.pageSize,limit:o.value.pageSize,...t}})};n();const i=(0,l.Fl)((()=>a.getters["system/pageListData"](e.pageName))),r=(0,l.Fl)((()=>a.getters["system/pageListCount"](e.pageName))),s=e.contentTableConfig?.propList.filter((e=>"status"!==e.slotName&&("createAt"!==e.slotName&&("updateAt"!==e.slotName&&("iconURL"!==e.slotName&&("avatarUrl"!==e.slotName&&("stopAt"!==e.slotName&&"handler"!==e.slotName))))))),p=t=>{let l=t.id;"topic"===e.pageName&&(l=t.tid),a.dispatch("system/deletePageDataAction",{pageName:e.pageName,id:l})},c=()=>{t("createBtnClick")},m=e=>{t("updateBtnClick",e)},g=e=>{(0,_.EI)("topic/stop",{tid:e.tid,yes_win:!0,no_win:!1})},f=e=>{(0,_.EI)("topic/stop",{tid:e.tid,yes_win:!1,no_win:!0})};return{dataList:i,listCount:r,getPageData:n,pageInfo:o,otherPropSlots:s,handleDeleteClick:p,handleCreateClick:c,handleUpdateClick:m,handleYesWinClick:g,handleNoWinClick:f}}});const D=(0,C.Z)(b,[["render",s],["__scopeId","data-v-f68574b8"]]);var S=D,W=S},98660:function(e,t,a){a.d(t,{Z:function(){return g}});var l=a(73396);const o={class:"page-modal"},n={class:"dialog-footer"};function i(e,t,a,i,r,s){const d=(0,l.up)("lixin-form"),u=(0,l.up)("el-button"),p=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(p,{title:"新建用户",modelValue:e.dialogVisible,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dialogVisible=t),width:"30%",center:"","destroy-on-close":""},{footer:(0,l.w5)((()=>[(0,l._)("span",n,[(0,l.Wm)(u,{onClick:t[1]||(t[1]=t=>e.dialogVisible=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)("取消")])),_:1}),(0,l.Wm)(u,{type:"primary",onClick:e.handleConfirmClick},{default:(0,l.w5)((()=>[(0,l.Uk)("确定")])),_:1},8,["onClick"])])])),default:(0,l.w5)((()=>[(0,l.Wm)(d,(0,l.dG)({modelValue:e.formData,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData=t)},e.modelConfig),null,16,["modelValue"])])),_:1},8,["modelValue"])])}var r=a(44870),s=a(38558),d=a(71464),u=(0,l.aZ)({components:{LixinForm:s.Z},props:{modelConfig:{type:Object,required:!0},defaultInfo:{type:Object,default:()=>{}},pageName:{type:String,required:!0}},setup(e){const t=(0,d.oR)(),a=(0,r.ref)(!1),o=(0,r.ref)({});(0,l.YP)((()=>e.defaultInfo),(t=>{for(const a of e.modelConfig.formItems)o.value[`${a.field}`]=t[`${a.field}`]}));const n=()=>{a.value=!1;let l=e.defaultInfo.id;"topic"===e.pageName&&(l=e.defaultInfo.tid),Object.keys(e.defaultInfo).length?t.dispatch("system/updatePageDataAction",{pageName:e.pageName,data:{...o.value},id:l}):t.dispatch("system/createPageDataAction",{pageName:e.pageName,data:{...o.value}})};return{formData:o,dialogVisible:a,handleConfirmClick:n}}}),p=a(40089);const c=(0,p.Z)(u,[["render",i]]);var m=c,g=m},68701:function(e,t,a){a.d(t,{Z:function(){return g}});var l=a(73396);const o={class:"page-search"},n=(0,l._)("div",{class:"header"},[(0,l._)("h1",null,"高级检索")],-1),i={class:"handle-btns"};function r(e,t,a,r,s,d){const u=(0,l.up)("el-button"),p=(0,l.up)("lixin-form");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(p,(0,l.dG)(e.searchFormConfig,{modelValue:e.formData,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData=t)}),{header:(0,l.w5)((()=>[n])),footer:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l.Wm)(u,{type:"primary",onClick:e.handleResetClick},{default:(0,l.w5)((()=>[(0,l.Uk)("重置")])),_:1},8,["onClick"]),(0,l.Wm)(u,{type:"primary",onClick:e.handleQueryClick},{default:(0,l.w5)((()=>[(0,l.Uk)("搜索")])),_:1},8,["onClick"])])])),_:1},16,["modelValue"])])}var s=a(44870),d=a(38558),u=(0,l.aZ)({props:{searchFormConfig:{type:Object,required:!0}},components:{LixinForm:d.Z},emits:["resetBtnClick","queryBtnClick"],setup(e,{emit:t}){const a=e.searchFormConfig?.formItems??[],l={};for(const r of a)l[r.field]="";const o=(0,s.ref)(l),n=()=>{for(const e in l)o.value[`${e}`]=l[e];t("resetBtnClick")},i=()=>{console.log(),t("queryBtnClick",o.value)};return{formData:o,handleResetClick:n,handleQueryClick:i}}}),p=a(40089);const c=(0,p.Z)(u,[["render",r]]);var m=c,g=m},67295:function(e,t,a){a.d(t,{L:function(){return o}});var l=a(44870);function o(e,t){const a=(0,l.ref)(),o=(0,l.ref)({}),n=()=>{o.value={},a.value.dialogVisible=!0,e&&e()},i=e=>{o.value={...e},a.value.dialogVisible=!0,t&&t()};return[a,n,i,o]}},53671:function(e,t,a){a.d(t,{Y:function(){return o}});var l=a(44870);function o(){const e=(0,l.ref)(),t=()=>{e.value?.getPageData()},a=t=>{e.value?.getPageData(t)};return[e,t,a]}}}]);
//# sourceMappingURL=489.5ac3f617.js.map